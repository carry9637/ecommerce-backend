# ğŸ“Š E-Commerce Backend API - Visual Architecture

## System Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        CLIENT REQUEST                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚      CORS & Express Middleware        â”‚
         â”‚ (cors, json parser, url encoder)      â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚      Express Router                   â”‚
         â”‚  (productRoutes, cartRoutes, etc)     â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚      Validation Middleware            â”‚
         â”‚  (express-validator)                  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚      Controller Layer                 â”‚
         â”‚  (productController, cartController)  â”‚
         â”‚  - Business Logic                     â”‚
         â”‚  - Data Processing                    â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚      Mongoose Models                  â”‚
         â”‚  (Product, Cart, Favorite)            â”‚
         â”‚  - Schema Validation                  â”‚
         â”‚  - Pre/Post Hooks                     â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚      MongoDB Database                 â”‚
         â”‚  (ecommerce_db)                       â”‚
         â”‚  - Collections                        â”‚
         â”‚  - Documents                          â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚      Response Formatting              â”‚
         â”‚  {success, data, message}             â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚      Logging (Morgan + Winston)       â”‚
         â”‚  - Request logs                       â”‚
         â”‚  - Error logs                         â”‚
         â”‚  - File & Console output              â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   Error Handler (if error)            â”‚
         â”‚  - Status Code                        â”‚
         â”‚  - Error Message                      â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    JSON RESPONSE TO CLIENT                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## API Endpoints Tree

```
â”Œâ”€â”€ ROOT
â”‚   â”‚
â”‚   â”œâ”€â”€ GET  /                              (Welcome Info)
â”‚   â”‚
â”‚   â”œâ”€â”€ GET  /api-docs                      (Swagger UI)
â”‚   â”‚
â”‚   â”œâ”€â”€ PRODUCTS /products
â”‚   â”‚   â”œâ”€â”€ GET  /                          (All products with pagination)
â”‚   â”‚   â”œâ”€â”€ GET  /:category                 (Products by category)
â”‚   â”‚   â””â”€â”€ GET  /product/:id               (Single product)
â”‚   â”‚
â”‚   â”œâ”€â”€ CART /api/cart
â”‚   â”‚   â”œâ”€â”€ POST  /                         (Add to cart)
â”‚   â”‚   â”œâ”€â”€ GET   /                         (Get cart items)
â”‚   â”‚   â””â”€â”€ DELETE/:productId               (Remove from cart)
â”‚   â”‚
â”‚   â”œâ”€â”€ CART (Alternative) /cart
â”‚   â”‚   â”œâ”€â”€ POST  /                         (Add to cart)
â”‚   â”‚   â”œâ”€â”€ GET   /                         (Get cart items)
â”‚   â”‚   â””â”€â”€ DELETE/:productId               (Remove from cart)
â”‚   â”‚
â”‚   â””â”€â”€ FAVORITES /api/favorites
â”‚       â”œâ”€â”€ POST  /                         (Add to favorites)
â”‚       â”œâ”€â”€ GET   /                         (Get favorites)
â”‚       â””â”€â”€ DELETE/:productId               (Remove from favorites)
```

---

## Data Flow for Product Request

```
GET /products?page=1&limit=10
         â”‚
         â–¼
    Express Routes
    productRoutes.js
         â”‚
         â–¼
    getAllProducts() Controller
    â”œâ”€ Extract query params
    â”œâ”€ Build MongoDB query
    â”‚
         â–¼
    Product.find(query)
    â””â”€ MongoDB Query
         â”‚
         â–¼
    MongoDB Returns Documents
         â”‚
         â–¼
    Format Response
    â”œâ”€ Count items
    â”œâ”€ Calculate pages
    â”œâ”€ Add metadata
    â”‚
         â–¼
    Return JSON Response
    {
      "success": true,
      "count": 10,
      "total": 50,
      "page": 1,
      "pages": 5,
      "data": [...]
    }
         â”‚
         â–¼
    Client Receives Response
```

---

## Database Schema Relationships

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    PRODUCT      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ _id             â”‚â—„â”€â”€â”€â”€â”€â”
â”‚ name            â”‚      â”‚
â”‚ description     â”‚      â”‚
â”‚ price           â”‚      â”‚
â”‚ category        â”‚      â”‚
â”‚ image           â”‚      â”‚
â”‚ stock           â”‚      â”‚
â”‚ rating          â”‚      â”‚
â”‚ reviews         â”‚      â”‚
â”‚ featured        â”‚      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
                         â”‚
                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚     CART        â”‚      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”‚
â”‚ _id             â”‚      â”‚
â”‚ userId          â”‚      â”‚
â”‚ items []        â”‚â”€â”€â”€â”€â”€â”€â”¤ Reference
â”‚   - productId   â”‚â—„â”€â”€â”€â”€â”€â”˜
â”‚   - quantity    â”‚
â”‚   - addedAt     â”‚
â”‚ totalAmount     â”‚
â”‚ itemCount       â”‚
â”‚ timestamps      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ Pre-save Hook
         â–¼
    Calculate Totals
    - Sum quantities
    - Calculate total amount
```

---

## Middleware Stack

```
Request
   â”‚
   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CORS Middleware          â”‚ â† Allow cross-origin requests
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Express JSON Parser      â”‚ â† Parse JSON body
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Morgan HTTP Logger       â”‚ â† Log HTTP requests
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Swagger UI Setup         â”‚ â† API documentation
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Route Handlers           â”‚ â† Process requests
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Input Validation         â”‚ â† Validate input data
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Controllers              â”‚ â† Business logic
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Models & Database        â”‚ â† Data access
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Error Handler (Global)   â”‚ â† Handle errors
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
Response
```

---

## File Organization & Dependencies

```
                       INDEX.JS
                          â”‚
                          â–¼
                       APP.JS
                          â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                 â”‚                 â”‚
        â–¼                 â–¼                 â–¼
    ROUTES/          MIDDLEWARE/        CONFIG/
        â”‚                 â”‚                 â”‚
    â”œâ”€ Product        â”œâ”€ Error         â”œâ”€ Swagger
    â”œâ”€ Cart           â”‚   Handler      â”‚
    â””â”€ Favorite       â””â”€ Validation    â””â”€ Morgan
        â”‚
    CONTROLLERS/      MODELS/          UTILS/
        â”‚                 â”‚                 â”‚
    â”œâ”€ Product        â”œâ”€ Product       â”œâ”€ Logger
    â”œâ”€ Cart           â”œâ”€ Cart          â”‚   (Winston)
    â””â”€ Favorite       â””â”€ Favorite      â”‚
        â”‚                 â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                    MONGOOSE
                         â”‚
                      MONGODB
```

---

## Error Handling Flow

```
Request Handler Throws Error
         â”‚
         â–¼
Try-Catch Block
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
    â”‚          â”‚
    â–¼          â–¼
Success    Error
â”‚          â”‚
â”‚          â–¼
â”‚      Error Handler Middleware
â”‚      â”œâ”€ Check error type
â”‚      â”œâ”€ Format message
â”‚      â”œâ”€ Log to Winston
â”‚      â”‚
â”‚      â”œâ”€ CastError?
â”‚      â”‚  â””â”€ Return 404
â”‚      â”‚
â”‚      â”œâ”€ ValidationError?
â”‚      â”‚  â””â”€ Return 400
â”‚      â”‚
â”‚      â”œâ”€ DuplicateKeyError?
â”‚      â”‚  â””â”€ Return 400
â”‚      â”‚
â”‚      â””â”€ Other Error?
â”‚         â””â”€ Return 500
â”‚
â””â”€ Success Response â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                      â”‚
                                      â–¼
                              JSON Response
                            {
                              "success": bool,
                              "message": string,
                              "data": object
                            }
```

---

## Request/Response Cycle

```
CLIENT                                                    SERVER

   â”‚                                                         â”‚
   â”‚ 1. HTTP Request                                         â”‚
   â”‚ (GET /products?page=1)                                  â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
   â”‚                                                         â”‚
   â”‚                                              2. Receive & Parse
   â”‚                                              â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
   â”‚                                              3. Route Match
   â”‚                                              â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
   â”‚                                              4. Validation
   â”‚                                              â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
   â”‚                                              5. Controller
   â”‚                                              â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
   â”‚                                              6. Database Query
   â”‚                                              â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
   â”‚                                              7. Format Response
   â”‚                                              â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
   â”‚                                              8. Log Request
   â”‚                                              â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
   â”‚                                                         â”‚
   â”‚ 9. HTTP Response                                        â”‚
   â”‚ (200 OK + JSON Data)                                    â”‚
   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚                                                         â”‚
   â”‚ 10. Parse & Render                                      â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                                                          â”‚  â”‚
Display to User â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
```

---

## Response Format Structure

```
SUCCESS RESPONSE:
{
  "success": true,
  "count": 10,           (optional - array count)
  "total": 50,           (optional - total items)
  "page": 1,             (optional - current page)
  "pages": 5,            (optional - total pages)
  "data": {              (response payload)
    "name": "Product",
    "price": 99.99,
    ...
  }
}

ERROR RESPONSE:
{
  "success": false,
  "message": "Error description",
  "details": "Additional error info"  (optional)
}
```

---

## Logging Flow

```
Request arrives
     â”‚
     â–¼
Morgan Logger
â”œâ”€ Method (GET, POST, etc)
â”œâ”€ URL path
â”œâ”€ Status code
â”œâ”€ Response time
â””â”€ Request size

     â”‚
     â–¼
Winston Logger
â”œâ”€ Timestamp
â”œâ”€ Log level (info, warn, error)
â”œâ”€ Component tag
â””â”€ Message

     â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚             â”‚             â”‚
     â–¼             â–¼             â–¼
Console       Log File      Error File
output      (structured)   (errors only)
```

---

## Authentication Ready Structure

```
(For Future Implementation)

   User Request
        â”‚
        â–¼
   JWT Middleware
   â”œâ”€ Extract token from header
   â”œâ”€ Verify token
   â””â”€ Attach user to request
        â”‚
        â–¼
   Route Handler
   â”œâ”€ Check user permissions
   â””â”€ Process request
        â”‚
        â–¼
   Database Operations
   â””â”€ User-specific data
        â”‚
        â–¼
   Response
   â””â”€ User's data only
```

---

## Data Validation Layers

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CLIENT-SIDE VALIDATION              â”‚
â”‚ (Browser/Frontend)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ REQUEST VALIDATION                  â”‚
â”‚ (Express-Validator Middleware)      â”‚
â”‚ â”œâ”€ Required fields                  â”‚
â”‚ â”œâ”€ Data types                       â”‚
â”‚ â”œâ”€ Length constraints               â”‚
â”‚ â””â”€ Format validation                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SCHEMA VALIDATION                   â”‚
â”‚ (Mongoose Model)                    â”‚
â”‚ â”œâ”€ Type enforcement                 â”‚
â”‚ â”œâ”€ Required fields                  â”‚
â”‚ â”œâ”€ Min/Max values                   â”‚
â”‚ â”œâ”€ Enum validation                  â”‚
â”‚ â””â”€ Custom validators                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DATABASE CONSTRAINTS                â”‚
â”‚ (MongoDB)                           â”‚
â”‚ â”œâ”€ Unique indexes                   â”‚
â”‚ â”œâ”€ Type checking                    â”‚
â”‚ â””â”€ Document validation              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Summary

This architecture demonstrates:

- âœ… Clean separation of concerns
- âœ… Middleware-based processing
- âœ… Layered data access
- âœ… Comprehensive error handling
- âœ… Professional logging
- âœ… RESTful API design
- âœ… MongoDB integration
- âœ… Scalable structure
